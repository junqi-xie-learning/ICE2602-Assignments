<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
  <meta name="full-screen" content="yes">
  <meta name="x5-fullscreen" content="true">
  <title>电子报_内容详情</title>
  <link rel="stylesheet" href="/electronAssets/style/mixin.css">
  <link rel="stylesheet" href="/electronAssets/style/detail.css">
  <!-- <link rel="stylesheet" href="/electronAssets/dist/swipercss/swiper.min.css"> -->
</head>

<body>
  <div class="page_2">
    <!-- header -->
    <header class="header">
      <div class="ctn">
        
       <div class="dateNav">日期选择 
          <img  src="/electronAssets/images/calander.png" alt="logo" class="calander">
          <div class="date">
            <div class="dateBox">
            </div>
          </div>
        </div>
        <div class="text ctn_1">
          <p>2020-03-23 第26,447号</p>
          <p>上海报业集团主管主办·文汇报社出版</p>
        </div>
        <div class="ctn_1">
          <img class="logo" src="/electronAssets/images/logo.png" alt="logo">
        </div>
      </div>
    </header>

    <!-- content -->
    <div class="content_container">
      <div class="content_box clear">
        <div class="newspaper_container left view">
          <!-- 大图paperswiper -->
		           <div class="newspaper_box" id="newspaperBox">
		            <img src="/imgPath/2020-03-23/b_10323.jpg" usemap="#newspaper" border="0" alt="newspaper" class="nocomposeImg">
		            <map name="newspaper" id="newspaper">
		            </map>
		            <a id="targetMask" class="float_box pointer" href=" ./../pages/detail.html"></a>
		          </div>




        </div>
        <div class="news_content_box right">
          <div class="bar_box clear">
          		<div class="left version_help">第1版：要闻</div>
                 
           
            <ul class="opt_box right clear">
              <!-- <li class="opt_item left pointer">设置字体</li> -->
              <!-- <li class="opt_item left pointer">全文转发</li> -->
              <li class="opt_item left pointer nextArticle">
                <a href="/2020-03-23/1/detail-675956.html">下一篇</a>
              </li>
              <li class="opt_item left pointer backList">
                <a href="/2020-03-23/1/index.html">返回列表</a>
              </li>
            </ul>
          </div>
          <div class="news_box fadeIn">
            <div class="news_header">
              <h3 class="news_sub_title"></h3>
              <h2 class="news_title">欢迎白衣战士回家，平安顺利凯旋</h2>
              <h3 class="news_sub_title" style="line-height: 2;">龚正到机场迎接上海支援湖北医疗队第二批返沪队员</h3>
            </div>
            <div class="news_content" id="newsContent">
			    
              
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    本报讯 春暖花开，英雄凯旋。在圆满完成医疗救治任务后，上海支援湖北医疗队第二批返沪队员昨天抵达上海。市委副书记、市政府党组书记龚正来到虹桥机场，代表市委、市政府和2400多万上海人民，欢迎白衣战士回家，平安顺利凯旋。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    停机坪上，大红色的欢迎标语“欢迎回家”“致敬白衣天使”“感谢最美逆行者”格外醒目。第二批返沪队员来自全市49家市区医疗机构、市医疗急救中心和上海交大医学院，共160位医务人员，主要在武汉第三医院光谷院区承担医疗救治任务，55天来持续战斗在抗疫第一线，如今平安归来。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    龚正说，疫情发生后，上海广大医务工作者响应习近平总书记和党中央号召，驰援湖北，与时间赛跑，与病魔较量，不辱使命，不负重托，出色完成了各项艰巨任务。你们的工作，充分展示了白衣天使大爱无疆、医者仁心、救死扶伤的崇高品格和精神，值得我们学习。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    “经过这一次在前线的历练，相信大家今后不论遇到什么艰难困苦，都能够克服。”龚正说，抗疫一线的环境十分艰苦，工作十分劳累，现在回到上海的大家庭，希望大家通过集中休整，尽快恢复体力，恢复最佳状态，以昂扬斗志和饱满精神投身今后的工作，努力为保障人民生命健康作出更大贡献。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    上海交大医学院附属瑞金医院副院长陈尔真代表返沪医疗队表示，医疗队员积极响应党中央号召，慷慨赴荆楚，白衣做战袍，智慧做武器，与武汉同行共同拼搏。  ◆下转第四版（上接第一版）在抗疫一线，我们时刻感受到市委、市政府的关怀和牵挂，李强书记多次视频连线医疗队，关心备至，这为我们增添了信心和力量，抗疫战斗取得了阶段性胜利。我们将不忘医者的初心，牢记治病救人的使命，希望在休整之后，再赴阻击境外疫情输入的一线，直至抗击疫情阻击战取得全面胜利。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    随后，第二批返沪队员集体乘坐大巴，驶离机场。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    市领导陈寅、宗明参加。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </div>
          </div>
        </div>
      </div>
<div class="push"></div>

    </div>

    <!-- footer -->
    <footer class="footer">
      <!-- 缩略图轮播 -->
      <div class="swiperBox">
        <div class="swiper-button-prev"> </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-container">
<div>
          <div class="swiper-wrapper" style="padding: 5px 0;max-width: 1200px;">
                <div class="swiper-slide active-nav">
	              <a href="javascript:void(0)" data-href="/2020-03-23/1/index.html" ><img src="/imgPath/2020-03-23/small_10323.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/2/index.html" ><img src="/imgPath/2020-03-23/small_20323.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/3/index.html" ><img src="/imgPath/2020-03-23/small_30323.jpg" alt=""> </a>
	              <div>
教科卫 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/4/index.html" ><img src="/imgPath/2020-03-23/small_40323.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/5/index.html" ><img src="/imgPath/2020-03-23/small_50323.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/6/index.html" ><img src="/imgPath/2020-03-23/small_60323.jpg" alt=""> </a>
	              <div>
									国际/...
                                  </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/7/index.html" ><img src="/imgPath/2020-03-23/small_70323.jpg" alt=""> </a>
	              <div>
环球 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/8/index.html" ><img src="/imgPath/2020-03-23/small_80323.jpg" alt=""> </a>
	              <div>
运动 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/9/index.html" ><img src="/imgPath/2020-03-23/small_90323.jpg" alt=""> </a>
	              <div>
文化 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/10/index.html" ><img src="/imgPath/2020-03-23/small_100323.jpg" alt=""> </a>
	              <div>
									人文聚...
                                  </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/11/index.html" ><img src="/imgPath/2020-03-23/small_110323.jpg" alt=""> </a>
	              <div>
阅读 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2020-03-23/12/index.html" ><img src="/imgPath/2020-03-23/small_120323.jpg" alt=""> </a>
	              <div>
笔会 
                </div>
	            </div>
          </div>
        </div>
</div>
      </div>
    </footer>
  </div>
  <script src="/electronAssets/js/jquery-3.3.1.min.js"></script>
  <!-- <script src="/electronAssets/dist/js/swiper.min.js"></script> -->
  <script src="/electronAssets/js/moment.js"></script>
  <script src="/electronAssets/layDate-v5.0.9/laydate/laydate.js"></script>
  <script>
    // 新闻列表
    var news = [
	    {
	        title: "习近平同根哥布总统互致贺电",
	        coords: [202.1809081158384,6.653237410071943,385.6775116195924,6.653237410071943,385.6775116195924,52.532853717026384,202.1809081158384,52.532853717026384],
	        url: "/2020-03-23/1/detail-675950.html"
	      },
	    {
	        title: "中共中央电贺老挝人革党成立65周年",
	        coords: [206.9217018233822,60.57218225419665,379.8212370396854,60.57218225419665,379.8212370396854,77.621103117506,206.9217018233822,77.621103117506],
	        url: "/2020-03-23/1/detail-675951.html"
	      },
	    {
	        title: "上海市天气预报",
	        coords: [111.82695745441545,61.40383693045564,190.1894887379335,61.40383693045564,190.1894887379335,68.19568345323742,111.82695745441545,68.19568345323742],
	        url: "/2020-03-23/1/detail-675952.html"
	      },
	    {
	        title: "上海防输入：“三个闭环+四个100%”",
	        coords: [5.577404361816232,92.7294964028777,384.5620307472292,92.7294964028777,384.5620307472292,318.9395683453238,5.577404361816232,318.9395683453238],
	        url: "/2020-03-23/1/detail-675953.html"
	      },
	    {
	        title: "上海发热筛查“零报告”制度　社区防控体系拉出“市民安心网”",
	        coords: [12.688594923131927,232.30887290167868,246.66070790132284,232.30887290167868,246.66070790132284,315.3357314148681,12.688594923131927,315.3357314148681],
	        url: "/2020-03-23/1/detail-675954.html"
	      },
	    {
	        title: "欢迎白衣战士回家，平安顺利凯旋",
	        coords: [10.87593850554165,332.800479616307,94.95530925992135,332.800479616307,94.95530925992135,515.2100719424461,10.87593850554165,515.2100719424461],
	        url: "/2020-03-23/1/detail-675955.html"
	      },
	    {
	        title: "上海对来自或途经重点国家人员100%实行隔离 非重点国家和地区入境人员100%核酸检测",
	        coords: [104.01859134787271,340.1467625899281,380.9367179120486,340.1467625899281,380.9367179120486,427.47050359712233,104.01859134787271,427.47050359712233],
	        url: "/2020-03-23/1/detail-675956.html"
	      },
	    {
	        title: "“一视同仁”好！如何依法做到位？",
	        coords: [104.01859134787271,450.2023980815348,382.7493743296389,450.2023980815348,382.7493743296389,510.358752997602,104.01859134787271,510.358752997602],
	        url: "/2020-03-23/1/detail-675957.html"
	      },
	    {
	        title: "增设哨点，做强发热门诊“四早”功能",
	        coords: [9.621022524133,523.3880095923262,187.95852699320702,523.3880095923262,187.95852699320702,571.485371702638,9.621022524133,571.485371702638],
	        url: "/2020-03-23/1/detail-675958.html"
	      },
	    {
	        title: "三类人必须戴口罩，三类人可自愿戴",
	        coords: [202.59921344297462,523.3880095923262,381.076153021094,523.3880095923262,381.076153021094,571.485371702638,202.59921344297462,571.485371702638],
	        url: "/2020-03-23/1/detail-675959.html"
	      },
    ], 
    isNext = null,
    params = search2Obj(window.location.href);

     // 获取矩形描绘坐标值
    function getCoords(coords) {
      var len = Array.isArray(coords) ? coords.length : 0;
      // return coords[0] + "," + coords[1] + "," + coords[len - 4] + "," + coords[len - 3];
      return [[coords[0], coords[1]], [coords[len - 4], coords[len - 3]]]
    }

    // 获取矩形宽高等
    function getReactAttr(coords) {
      var len = Array.isArray(coords) ? coords.length : 0;
      return {
        width: coords[len - 4] - coords[0],
        height: coords[len - 3] - coords[1],
        top: coords[1],
        left: coords[0]
      }
    }

    //获取url参数
    function GetQueryString(name) {
      var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');
      var r = window.location.search.substr(1).match(reg);
      var s = window.location.search;
      var href = window.location.href;
      var index = href.indexOf('?');
      if (s === '') {
        r = href.substr(index + 1).match(reg)
      }
      if (r != null) return unescape(r[2]);
      return null
    }

    function search2Obj(str){
      str = str || '';
      str = str.indexOf('?') > -1 ? str.slice(str.indexOf('?') + 1) : str;
      
      var items = str.split('&');
      var result = {};
      for (let i = 0; i < items.length; i++) {
        var arr = items[i].split('=');
        var key = arr[0];
        var value = arr[1];
        if (key) {
          if (result[key]) {
            if (Array.isArray(value)) {
              result[key] = result[key].concat(value);
            } else {
              result[key] = [result[key]].concat(value);
            }
          } else {
            result[key] = value;
          }
        }
      }
      return result;
    }

    // 页面加载
    $(document).ready(function () {
      var time = moment().format("YYYY-MM-DD");
      var now = moment().format("x");
      var activeDate = "";
      var lastDate = "", nextDate = "";
      var date = GetQueryString("date"), 
          html = '', 
          initialSlide = $('.swiper-slide.active-nav').index(); // 初始swiper Index
          console.log("date",date)
      // 显示文字内容
      //$("#newsContent").html(rawNewsContent);

      // 添加矩形框
      news.forEach(function(obj, idx){
        // html = html + "<area shape='rect' coords=" + getCoords(obj.coords) + " data-id=" + idx + " data-title=" + obj.title + " href ="+obj.url+" title= " + obj.title + "/>"
        var coords = getCoords(obj.coords);
						html += "<span style='position: absolute;left: "+ coords[0][0]+"px;top: "+ coords[0][1] +"px;width: "+ (coords[1][0]-coords[0][0]) +"px;height: "+ (coords[1][1]- coords[0][1]) +"px;z-index: "+(10 + idx)+"' data-id='"+idx+"' data-title='"+obj.title+"' data-href='"+obj.url+"' title='"+obj.title+"'></span>"
      });
      $("#newspaper").html(html);


        $("#newspaperBox").on("mouseenter", function (e) {
          $("#newspaperBox").css({
        "box-shadow":'none',
        "overflow": "visible"
      })        })
      // 添加鼠标hover事件
      $("#newspaperBox").on("mouseleave", function (e) {
                          $("#targetMask").hide();
                           $(this).css({
        "box-shadow":'rgba(0, 0, 0, 0.5) 0px 2px 4px 0px',
        "overflow": "hidden"
      })                        })
                        .find("span")
                        .on("mouseenter", function (e) {
                          var areaHref=e.target.dataset.href;
                          $("#targetMask").attr("href",areaHref)
                          var targetNews = news[e.target.dataset.id], floatBox = $("#targetMask"),
                            floatStyle = getReactAttr(targetNews.coords),
                            mouseXY = {
                              X: e.clientX,
                              Y: e.clientY
                            };
                          floatBox.css({
                            width: floatStyle.width + 4,
                            height: floatStyle.height + 4,
                            top: floatStyle.top - 2,
                            left: floatStyle.left - 2
                          }).show().html("<div class='help_text' style='top: " + mouseXY.Y + "px; left: " + mouseXY.X + "px '>" + targetNews.title + "</div>");
                        });


      // 上一篇/下一篇
      $('.swiperBox').on('click', function (e) {
        e.preventDefault();
        if(e.target.className.indexOf("swiper-button-prev") != -1){
          updateNavPosition(true);
        }else if(e.target.className.indexOf("swiper-button-next") != -1){
          updateNavPosition(false);
        }        
      });

      $('.swiperBox .swiper-slide').on("click", function(){
          var href = $(this).find("a").data("href");
          var left = $('.swiperBox .swiper-container')[0].scrollLeft;
          window.location.href = href + '?left=' + left ;
      }).eq(initialSlide).addClass('active-nav');

      if($('.swiperBox .swiper-slide').length > 11){
        var cur = parseInt(initialSlide) + 1;
        var targetLeft = $('.swiperBox .swiper-slide.active-nav')[0].offsetLeft;
        var userScrollLeft = parseInt(params.left || 0);
        if( userScrollLeft < targetLeft && targetLeft <= userScrollLeft + 1200){
          $(".swiperBox .swiper-container").scrollLeft(userScrollLeft);
        }else{
          $(".swiperBox .swiper-container").scrollLeft(targetLeft);
        }
      }

      // 更新footer nav 位置信息
      function updateNavPosition(isPre) {
	    	var preIdx = $('.swiperBox .active-nav').index();
	      $('.swiperBox .active-nav').removeClass('active-nav');
	      var activeNav = $('.swiperBox .swiper-slide').eq(isPre ? preIdx - 1 : preIdx + 1).addClass('active-nav')
	      if (!activeNav.hasClass('swiper-slide-visible')) {
	        var idx = activeNav.index();
	        if (idx == -1) {
	          idx = isPre ? $('.swiperBox .swiper-slide').length : 0;
	        }
	        window.location.href = $('.swiperBox .swiper-slide').eq(idx).find("a").data("href") + '?left=' + $('.swiperBox .swiper-container')[0].scrollLeft;
	      }
    	}
      //切换图片
      $(".viewList > li").on("click", function (e) {
console.log(e)
        let i = e.target.dataset.i;
        let imgSrc = $(e.target).attr("src")
        let title = e.target.dataset.title;
        $("#ctnImg").attr("src", imgSrc)
        $("#ctnA").attr("href", imgSrc)
        $("#titleImg").text(title)
        if(title.length==0){
        	$("#titleImg").attr("style","display:none");
        }else{
        	$("#titleImg").attr("style","display:block");
        }
        
      })

console.log("2020-03-23")
       //日期切换
      laydate.render({
        elem: '.dateBox',
        position: 'static',
        showBottom: false,
        theme: '#fff',
        value:moment("2020-03-23").format("YYYY-MM-DD"),
        isInitValue: true,
        max: time,
       done: function(value, date){
      	if (moment(value).format("x") < moment().format("x") && value) {
          var link = moment(value).format("X") < moment("2019/01/01").startOf('day').format("X") ? '/html/' + moment(value).format("YYYY-MM/DD") + '/node_61.html' : ('/' + value + '/1/index.html');
          window.location.href = link;
        }
      }
      });

      function datePage(value) {
        lastDate = moment(value).subtract(1, "days").format("YYYY-MM-DD");
        nextDate = moment(value).add(1, "days").format("YYYY-MM-DD");
        activeDate = value;
        return lastDate, nextDate, activeDate
      }

      // 日期选择hover延迟
      (function ($) {
        $.fn.hoverDelay = function (options) {
          var defaults = {
            hoverDuring: 200,
            outDuring: 200,
            hoverEvent: function () {
              $.noop();
            },
            outEvent: function () {
              $.noop();
            }
          };
          var sets = $.extend(defaults, options || {});
          var hoverTimer, outTimer;
          return $(this).each(function () {
            $(this).hover(function () {
              clearTimeout(outTimer);
              hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring);
            }, function () {
              clearTimeout(hoverTimer);
              outTimer = setTimeout(sets.outEvent, sets.outDuring);
            });
          });
        }
      })(jQuery);

      $(".dateNav").hoverDelay({
        outDuring: 200,
        hoverEvent: function () {
          $(".date").show();
        },
        outEvent: function () {
          $(".date").hide();
        }
      });
    
    });
  </script>
</body>

</html>