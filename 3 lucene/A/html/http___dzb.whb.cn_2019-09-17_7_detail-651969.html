<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
  <meta name="full-screen" content="yes">
  <meta name="x5-fullscreen" content="true">
  <title>电子报_内容详情</title>
  <link rel="stylesheet" href="/electronAssets/style/mixin.css">
  <link rel="stylesheet" href="/electronAssets/style/detail.css">
  <!-- <link rel="stylesheet" href="/electronAssets/dist/swipercss/swiper.min.css"> -->
</head>

<body>
  <div class="page_2">
    <!-- header -->
    <header class="header">
      <div class="ctn">
        
       <div class="dateNav">日期选择 
          <img  src="/electronAssets/images/calander.png" alt="logo" class="calander">
          <div class="date">
            <div class="dateBox">
            </div>
          </div>
        </div>
        <div class="text ctn_1">
          <p>2019-09-17 第26,259号</p>
          <p>上海报业集团主管主办·文汇报社出版</p>
        </div>
        <div class="ctn_1">
          <img class="logo" src="/electronAssets/images/logo.png" alt="logo">
        </div>
      </div>
    </header>

    <!-- content -->
    <div class="content_container">
      <div class="content_box clear">
        <div class="newspaper_container left view">
          <!-- 大图paperswiper -->
		           <div class="newspaper_box" id="newspaperBox">
		            <img src="/imgPath/2019-09-17/b_70917.jpg" usemap="#newspaper" border="0" alt="newspaper" class="nocomposeImg">
		            <map name="newspaper" id="newspaper">
		            </map>
		            <a id="targetMask" class="float_box pointer" href=" ./../pages/detail.html"></a>
		          </div>




        </div>
        <div class="news_content_box right">
          <div class="bar_box clear">
          		<div class="left version_help">第7版：教科卫/公告</div>
                 
           
            <ul class="opt_box right clear">
              <!-- <li class="opt_item left pointer">设置字体</li> -->
              <!-- <li class="opt_item left pointer">全文转发</li> -->
              <li class="opt_item left pointer nextArticle">
                <a href="/2019-09-17/7/detail-651970.html">下一篇</a>
              </li>
              <li class="opt_item left pointer backList">
                <a href="/2019-09-17/7/index.html">返回列表</a>
              </li>
            </ul>
          </div>
          <div class="news_box fadeIn">
            <div class="news_header">
              <h3 class="news_sub_title"></h3>
              <h2 class="news_title">五星红旗在商船航线最高纬度升起</h2>
              <h3 class="news_sub_title" style="line-height: 2;"></h3>
            </div>
            <div class="news_content" id="newsContent">
			    
              
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    本报讯  （记者姜澎）当地时间9月12日15时，在北极圈内的北纬77°57′、东经93°24′，正在执行北极航行任务的中远海运特种运输股份有限公司“天佑轮”上，五星红旗冉冉升起。船员们和来自上海交通大学的年轻教师一同唱起国歌，心中充满激动与豪迈。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    昨天，上海交通大学船舶海洋与建筑工程学院党员教师戴磊和姚帅寓说起这件事，依然心潮澎湃：“在‘天佑轮’上，北极圈内的党建活动和爱国主义教育令人难忘，它将时刻提醒我们坚守初心，将个人命运融入民族复兴大业，始终铭记为人民谋福祉。”<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    北极航线是中国许多沿海港口通往欧洲的最短路线，亦是“冰上丝绸之路”的重要载体，在“一带一路”建设中扮演着重要角色。“天佑轮”正在执行北极航行任务并行驶到了北极航行的最高纬度，这也是全球所有商船航线中能够抵达的最北端。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    此次升旗仪式是“天佑轮”党支部与上海交通大学船舶海洋与建筑工程学院交通航运党支部的共建活动。而此次共建活动源自今年5月，中远海运集团董事长、党组书记许立荣在上海交通大学所作“海运即国运”的主题报告。这场报告激发了上海交大师生到祖国需要的地方建功立业的情怀，也推动了该校与中远海运集团开展更深层次的产学研合作。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    此次，上海交大船舶海洋与建筑工程学院交通运输工程系党员教师戴磊博士和姚帅寓博士作为该校首批派出的随船专家，搭乘中远海运特运公司“天佑轮”，参加为期一个月的极地航运，为“天佑轮”提供技术支持，并开展科研活动。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </div>
          </div>
        </div>
      </div>
<div class="push"></div>

    </div>

    <!-- footer -->
    <footer class="footer">
      <!-- 缩略图轮播 -->
      <div class="swiperBox">
        <div class="swiper-button-prev"> </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-container">
<div>
          <div class="swiper-wrapper" style="padding: 5px 0;max-width: 1200px;">
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/1/index.html" ><img src="/imgPath/2019-09-17/small_10917.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/2/index.html" ><img src="/imgPath/2019-09-17/small_20917.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/3/index.html" ><img src="/imgPath/2019-09-17/small_30917.jpg" alt=""> </a>
	              <div>
要闻 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/4/index.html" ><img src="/imgPath/2019-09-17/small_40917.jpg" alt=""> </a>
	              <div>
专版 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/5/index.html" ><img src="/imgPath/2019-09-17/small_50917.jpg" alt=""> </a>
	              <div>
									评论/...
                                  </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/6/index.html" ><img src="/imgPath/2019-09-17/small_60917.jpg" alt=""> </a>
	              <div>
									要闻/...
                                  </div>
	            </div>
                <div class="swiper-slide active-nav">
	              <a href="javascript:void(0)" data-href="/2019-09-17/7/index.html" ><img src="/imgPath/2019-09-17/small_70917.jpg" alt=""> </a>
	              <div>
									教科卫...
                                  </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/8/index.html" ><img src="/imgPath/2019-09-17/small_80917.jpg" alt=""> </a>
	              <div>
国际 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/9/index.html" ><img src="/imgPath/2019-09-17/small_90917.jpg" alt=""> </a>
	              <div>
文化 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/10/index.html" ><img src="/imgPath/2019-09-17/small_100917.jpg" alt=""> </a>
	              <div>
阅读 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/11/index.html" ><img src="/imgPath/2019-09-17/small_110917.jpg" alt=""> </a>
	              <div>
笔会 
                </div>
	            </div>
                <div class="swiper-slide">
	              <a href="javascript:void(0)" data-href="/2019-09-17/12/index.html" ><img src="/imgPath/2019-09-17/small_120917.jpg" alt=""> </a>
	              <div>
									通信新...
                                  </div>
	            </div>
          </div>
        </div>
</div>
      </div>
    </footer>
  </div>
  <script src="/electronAssets/js/jquery-3.3.1.min.js"></script>
  <!-- <script src="/electronAssets/dist/js/swiper.min.js"></script> -->
  <script src="/electronAssets/js/moment.js"></script>
  <script src="/electronAssets/layDate-v5.0.9/laydate/laydate.js"></script>
  <script>
    // 新闻列表
    var news = [
	    {
	        title: "水陆空无缝衔接，30分钟急救伤员",
	        coords: [9.063282087951377,37.56306954436451,253.35359313550234,37.56306954436451,253.35359313550234,296.6235011990408,9.063282087951377,296.6235011990408],
	        url: "/2019-09-17/7/detail-651967.html"
	      },
	    {
	        title: "胡适与老友“相聚”复旦园",
	        coords: [262.1380050053629,31.18705035971223,386.65355738291026,31.18705035971223,386.65355738291026,191.97362110311752,262.1380050053629,191.97362110311752],
	        url: "/2019-09-17/7/detail-651968.html"
	      },
	    {
	        title: "五星红旗在商船航线最高纬度升起",
	        coords: [261.7196996782267,200.9832134292566,384.5620307472292,200.9832134292566,384.5620307472292,296.6235011990408,261.7196996782267,296.6235011990408],
	        url: "/2019-09-17/7/detail-651969.html"
	      },
	    {
	        title: "中国华融资产管理股份有限公司上海市分公司公开竞价公告",
	        coords: [8.366106542724348,309.2369304556355,383.86485520200216,309.2369304556355,383.86485520200216,571.7625899280577,8.366106542724348,571.7625899280577],
	        url: "/2019-09-17/7/detail-651970.html"
	      },
    ], 
    isNext = null,
    params = search2Obj(window.location.href);

     // 获取矩形描绘坐标值
    function getCoords(coords) {
      var len = Array.isArray(coords) ? coords.length : 0;
      // return coords[0] + "," + coords[1] + "," + coords[len - 4] + "," + coords[len - 3];
      return [[coords[0], coords[1]], [coords[len - 4], coords[len - 3]]]
    }

    // 获取矩形宽高等
    function getReactAttr(coords) {
      var len = Array.isArray(coords) ? coords.length : 0;
      return {
        width: coords[len - 4] - coords[0],
        height: coords[len - 3] - coords[1],
        top: coords[1],
        left: coords[0]
      }
    }

    //获取url参数
    function GetQueryString(name) {
      var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');
      var r = window.location.search.substr(1).match(reg);
      var s = window.location.search;
      var href = window.location.href;
      var index = href.indexOf('?');
      if (s === '') {
        r = href.substr(index + 1).match(reg)
      }
      if (r != null) return unescape(r[2]);
      return null
    }

    function search2Obj(str){
      str = str || '';
      str = str.indexOf('?') > -1 ? str.slice(str.indexOf('?') + 1) : str;
      
      var items = str.split('&');
      var result = {};
      for (let i = 0; i < items.length; i++) {
        var arr = items[i].split('=');
        var key = arr[0];
        var value = arr[1];
        if (key) {
          if (result[key]) {
            if (Array.isArray(value)) {
              result[key] = result[key].concat(value);
            } else {
              result[key] = [result[key]].concat(value);
            }
          } else {
            result[key] = value;
          }
        }
      }
      return result;
    }

    // 页面加载
    $(document).ready(function () {
      var time = moment().format("YYYY-MM-DD");
      var now = moment().format("x");
      var activeDate = "";
      var lastDate = "", nextDate = "";
      var date = GetQueryString("date"), 
          html = '', 
          initialSlide = $('.swiper-slide.active-nav').index(); // 初始swiper Index
          console.log("date",date)
      // 显示文字内容
      //$("#newsContent").html(rawNewsContent);

      // 添加矩形框
      news.forEach(function(obj, idx){
        // html = html + "<area shape='rect' coords=" + getCoords(obj.coords) + " data-id=" + idx + " data-title=" + obj.title + " href ="+obj.url+" title= " + obj.title + "/>"
        var coords = getCoords(obj.coords);
						html += "<span style='position: absolute;left: "+ coords[0][0]+"px;top: "+ coords[0][1] +"px;width: "+ (coords[1][0]-coords[0][0]) +"px;height: "+ (coords[1][1]- coords[0][1]) +"px;z-index: "+(10 + idx)+"' data-id='"+idx+"' data-title='"+obj.title+"' data-href='"+obj.url+"' title='"+obj.title+"'></span>"
      });
      $("#newspaper").html(html);


        $("#newspaperBox").on("mouseenter", function (e) {
          $("#newspaperBox").css({
        "box-shadow":'none',
        "overflow": "visible"
      })        })
      // 添加鼠标hover事件
      $("#newspaperBox").on("mouseleave", function (e) {
                          $("#targetMask").hide();
                           $(this).css({
        "box-shadow":'rgba(0, 0, 0, 0.5) 0px 2px 4px 0px',
        "overflow": "hidden"
      })                        })
                        .find("span")
                        .on("mouseenter", function (e) {
                          var areaHref=e.target.dataset.href;
                          $("#targetMask").attr("href",areaHref)
                          var targetNews = news[e.target.dataset.id], floatBox = $("#targetMask"),
                            floatStyle = getReactAttr(targetNews.coords),
                            mouseXY = {
                              X: e.clientX,
                              Y: e.clientY
                            };
                          floatBox.css({
                            width: floatStyle.width + 4,
                            height: floatStyle.height + 4,
                            top: floatStyle.top - 2,
                            left: floatStyle.left - 2
                          }).show().html("<div class='help_text' style='top: " + mouseXY.Y + "px; left: " + mouseXY.X + "px '>" + targetNews.title + "</div>");
                        });


      // 上一篇/下一篇
      $('.swiperBox').on('click', function (e) {
        e.preventDefault();
        if(e.target.className.indexOf("swiper-button-prev") != -1){
          updateNavPosition(true);
        }else if(e.target.className.indexOf("swiper-button-next") != -1){
          updateNavPosition(false);
        }        
      });

      $('.swiperBox .swiper-slide').on("click", function(){
          var href = $(this).find("a").data("href");
          var left = $('.swiperBox .swiper-container')[0].scrollLeft;
          window.location.href = href + '?left=' + left ;
      }).eq(initialSlide).addClass('active-nav');

      if($('.swiperBox .swiper-slide').length > 11){
        var cur = parseInt(initialSlide) + 1;
        var targetLeft = $('.swiperBox .swiper-slide.active-nav')[0].offsetLeft;
        var userScrollLeft = parseInt(params.left || 0);
        if( userScrollLeft < targetLeft && targetLeft <= userScrollLeft + 1200){
          $(".swiperBox .swiper-container").scrollLeft(userScrollLeft);
        }else{
          $(".swiperBox .swiper-container").scrollLeft(targetLeft);
        }
      }

      // 更新footer nav 位置信息
      function updateNavPosition(isPre) {
	    	var preIdx = $('.swiperBox .active-nav').index();
	      $('.swiperBox .active-nav').removeClass('active-nav');
	      var activeNav = $('.swiperBox .swiper-slide').eq(isPre ? preIdx - 1 : preIdx + 1).addClass('active-nav')
	      if (!activeNav.hasClass('swiper-slide-visible')) {
	        var idx = activeNav.index();
	        if (idx == -1) {
	          idx = isPre ? $('.swiperBox .swiper-slide').length : 0;
	        }
	        window.location.href = $('.swiperBox .swiper-slide').eq(idx).find("a").data("href") + '?left=' + $('.swiperBox .swiper-container')[0].scrollLeft;
	      }
    	}
      //切换图片
      $(".viewList > li").on("click", function (e) {
console.log(e)
        let i = e.target.dataset.i;
        let imgSrc = $(e.target).attr("src")
        let title = e.target.dataset.title;
        $("#ctnImg").attr("src", imgSrc)
        $("#ctnA").attr("href", imgSrc)
        $("#titleImg").text(title)
        if(title.length==0){
        	$("#titleImg").attr("style","display:none");
        }else{
        	$("#titleImg").attr("style","display:block");
        }
        
      })

console.log("2019-09-17")
       //日期切换
      laydate.render({
        elem: '.dateBox',
        position: 'static',
        showBottom: false,
        theme: '#fff',
        value:moment("2019-09-17").format("YYYY-MM-DD"),
        isInitValue: true,
        max: time,
       done: function(value, date){
      	if (moment(value).format("x") < moment().format("x") && value) {
          var link = moment(value).format("X") < moment("2019/01/01").startOf('day').format("X") ? '/html/' + moment(value).format("YYYY-MM/DD") + '/node_61.html' : ('/' + value + '/1/index.html');
          window.location.href = link;
        }
      }
      });

      function datePage(value) {
        lastDate = moment(value).subtract(1, "days").format("YYYY-MM-DD");
        nextDate = moment(value).add(1, "days").format("YYYY-MM-DD");
        activeDate = value;
        return lastDate, nextDate, activeDate
      }

      // 日期选择hover延迟
      (function ($) {
        $.fn.hoverDelay = function (options) {
          var defaults = {
            hoverDuring: 200,
            outDuring: 200,
            hoverEvent: function () {
              $.noop();
            },
            outEvent: function () {
              $.noop();
            }
          };
          var sets = $.extend(defaults, options || {});
          var hoverTimer, outTimer;
          return $(this).each(function () {
            $(this).hover(function () {
              clearTimeout(outTimer);
              hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring);
            }, function () {
              clearTimeout(hoverTimer);
              outTimer = setTimeout(sets.outEvent, sets.outDuring);
            });
          });
        }
      })(jQuery);

      $(".dateNav").hoverDelay({
        outDuring: 200,
        hoverEvent: function () {
          $(".date").show();
        },
        outEvent: function () {
          $(".date").hide();
        }
      });
    
    });
  </script>
</body>

</html>